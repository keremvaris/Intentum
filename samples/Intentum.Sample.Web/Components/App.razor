@inject NavigationManager Navigation

<ErrorBoundary>
    <ChildContent>
        <Router AppAssembly="@typeof(App).Assembly" NotFoundPage="@typeof(NotFound)">
            <Found Context="routeData">
                <RouteView RouteData="@routeData" DefaultLayout="@typeof(MainLayout)" />
            </Found>
        </Router>
    </ChildContent>
    <ErrorContent>
        <div class="dashboard-app" style="padding: 1rem;">
            <p class="error">Bir hata olu≈ütu.</p>
            <p><a href="">Yenile</a></p>
        </div>
    </ErrorContent>
</ErrorBoundary>

@code {
    protected override void OnAfterRender(bool firstRender)
    {
        // Redirect only on client after circuit is up; prerender leaves path "" so Router shows NotFound
        if (firstRender)
        {
            var relative = Navigation.ToBaseRelativePath(Navigation.Uri);
            if (relative.Length == 0)
                Navigation.NavigateTo("/", forceLoad: false);
        }
    }
}
